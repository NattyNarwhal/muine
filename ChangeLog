2004-02-14  Jorn Baayen  <jbaayen@gnome.org>

	* README:
	* TODO:
	* configure.in:
	* libmuine/db.c:
	* libmuine/db.h:
	* libmuine/id3-vfs/id3-vfs.c: (id3_vfs_bitrate):
	* libmuine/id3-vfs/id3-vfs.h:
	* libmuine/id3-vfs/mp3bitrate.c: (mpg123_parse_xing_header),
	(mp3_bitrate_parse_header):
	* libmuine/id3-vfs/mp3bitrate.h:
	* libmuine/metadata.c: (get_mp3_duration), (assign_metadata_mp3),
	(assign_metadata_ogg), (FLAC_metadata_callback):
	* libmuine/metadata.h:
	* libmuine/player.c: (player_class_init), (player_get_state),
	(tick_timeout_cb), (player_seek), (player_tell):
	* libmuine/player.h:
	* src/Metadata.cs:
	* src/Muine.cs:
	* src/Player.cs:
	* src/PlaylistWindow.cs:
	* src/SkipToWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:

	Cleanups to mtime handling, store duration in seconds instead of
	milliseconds.

2004-02-14  Jorn Baayen  <jbaayen@gnome.org>

	* TODO:
	* src/NotificationAreaIcon.cs:
	* src/PlaylistWindow.cs:

	Make tray icon a fair bit more useful.

2004-02-12  Julio M. Merino Vidal  <jmmv@menta.net>

	* data/Makefile.am:

	Honour the --disable-schemas-install option

2004-02-11  Jorn Baayen  <jbaayen@gnome.org>

	* configure.in:
	* src/About.cs:

	Release 0.4.0.

2004-02-11  Jorn Baayen  <jbaayen@gnome.org>

	* NEWS:
	* configure.in:
	* src/About.cs:

	Bump version number to 0.3.99, update NEWS file for upcoming 0.4
	release.

2004-02-11  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/pointer-list-model.c:
	(pointer_list_model_get_moved_iter):
	* libmuine/pointer-list-model.h:
	* libmuine/pointer-list-view.c: (pointer_list_view_next):
	* libmuine/pointer-list-view.h:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Remove obsolete methods.

2004-02-11  Jorn Baayen  <jbaayen@gnome.org>

	* src/About.cs:

	Don't keep the logo pixbuf in memory.

2004-02-10  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/pointer-list-view.c: (pointer_list_view_select_first),
	(pointer_list_view_select_next), (pointer_list_view_select_prev):
	* libmuine/pointer-list-view.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Work around a couple of treeview scrolling bugs.

2004-02-10  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/pointer-list-view.c: (scroll_to_path),
	(pointer_list_view_select_first), (pointer_list_view_select):
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:
	* src/Muine.cs:
	* src/NotificationAreaIcon.cs:
	* src/PlaylistWindow.cs:

	Cleanups. Improve startup sequence. Reduce memory usage. Disable
	first startup window until we've sorted the issue out.

2004-02-10  Jorn Baayen  <jbaayen@gnome.org>

	* src/ActionThread.cs:
	* src/Song.cs:
	* src/StringUtils.cs:

	Cleanups, fix cover image fetching.

2004-02-10  Jorn Baayen  <jbaayen@gnome.org>

	* src/CoverDatabase.cs:
	* src/Metadata.cs:

	More cleanups.

2004-02-10  Jorn Baayen  <jbaayen@gnome.org>

	* src/ActionThread.cs:
	* src/Album.cs:
	* src/CoverDatabase.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:
	* src/StringUtils.cs:

	Backend cleanups.

2004-02-09  Jorn Baayen  <jbaayen@gnome.org>

	* configure.in:

	Added "de" (German) to ALL_LINGUAS.

2004-02-09  Robert Sedak  <robert.sedak@sk.htnet.hr>

        * configure.in: Added "hr" (Croatian) to ALL_LINGUAS.

2004-02-08  Vaclav Slavik  <vaclav.slavik@matfyz.cz>

	* libmuine/egg/eggmarshalers.c:

	Define g_value_take_object as g_value_set_object_take_ownership
	when using glib < 2.3.0.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* data/glade/PlaylistWindow.glade:
	* src/Action.cs:
	* src/ActionThread.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/SongDatabase.cs:

	Cleanups. Change labels of add buttons to "Play Song" and "Play Album".

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/gsequence.c: (g_sequence_ptr_is_begin):

	Sync gsequence implementation.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* src/Muine.cs:
	* src/PlaylistWindow.cs:
	* src/SongDatabase.cs:

	Improve startup mechanism.. and startup speed.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/metadata.c: (get_mp3_picture_data):

	Only use the cover image if its width & height are >= 64.
	
	* AUTHORS:
	* src/About.cs:

	Added Lee & Viet Yen.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* src/SongDatabase.cs:

	Do actually start the thread :P

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/metadata.c: (metadata_free):

	Add a comment about not unreffing the album art pixbuf.
	
	* src/Song.cs:

	Give cover.jpg priority over the ID3 image.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* src/ActionThread.cs:
	* src/PlaylistWindow.cs:
	* src/ProgressWindow.cs:
	* src/SongDatabase.cs:

	More threading fixes.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:
	* src/SongDatabase.cs:

	Only allow one thread to change the DB at the time.

2004-02-08  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:

	Avoid checking for changes & loading at the same time.

2004-02-08  Lee Willis  <lee@leewillis.co.uk>
            Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/metadata.c: (get_mp3_duration), (get_mp3_picture_data),
	(get_mp3_gain), (assign_metadata_mp3), (metadata_get_album_art):
	* libmuine/metadata.h:
	* src/CoverDatabase.cs:
	* src/Metadata.cs:
	* src/Song.cs:

	Get the album cover from the ID3 tag if available.

2004-02-07  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:

	Fix NSognsChanged usage in SeekTo.

2004-02-07  Jorn Baayen  <jbaayen@gnome.org>

	* data/images/muine-default-cover.png:

	Fix image dimensions.

2004-02-07  Jorn Baayen  <jbaayen@gnome.org>

	* src/SongDatabase.cs:

	Correctly remove songs from Songs hashtable.

2004-02-06  Jorn Baayen  <jbaayen@gnome.org>

	* src/CoverDatabase.cs:

	Change > 0.6 to >= 0.6 in the amazon matching stuff.

2004-02-06  Jorn Baayen  <jbaayen@gnome.org>

	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/StringUtils.cs:

	Use legacy strcmp for comparing sort keys.

2004-02-06  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:

	Scroll to playing song when having removed the playing songs.

2004-02-06  Việt Yên Nguyễn  <nguyen@cs.utwente.nl>
            Jorn Baayen  <jbaayen@gnome.org>

	* TODO:
	* data/glade/Makefile.am:
	* data/glade/NoMusicFoundWindow.glade:
	* data/glade/SearchMusicWindow.glade:
	* data/muine.schemas.in:
	* src/Makefile.am:
	* src/NoMusicFoundWindow.cs:
	* src/PlaylistWindow.cs:
	* src/SearchMusicWindow.cs:

	Better first time window.

2004-02-06  Jorn Baayen  <jbaayen@gnome.org>

	* data/muine.schemas.in:
	* src/PlaylistWindow.cs:

	Do not remember window visibility state, it was confusing.

2004-02-06  Jorn Baayen  <jbaayen@gnome.org>

	* src/Album.cs:

	"the artist" -> "artist the" in sort/search key.

2004-02-05  Jorn Baayen  <jbaayen@gnome.org>

	* libmuine/player.c: (player_init), (eos_idle_cb), (eos_cb),
	(player_set_file):

	Kill an EOS race.

2004-02-05  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:

	Fix previous commit ..

2004-02-05  Jorn Baayen  <jbaayen@gnome.org>

	* src/PlaylistWindow.cs:

	Include playlist duration in playlist duration label when in repeat
	mode.

2004-02-04  Jorn Baayen  <jbaayen@gnome.org>

	* README:

	Added FLAC dependency.
	
	* src/Album.cs:

	Remove unused Year field.
	
	* src/Song.cs:

	g_free strings we get from the DB.

2004-02-03  Jorn Baayen  <jbaayen@gnome.org>

	* src/AddAlbumWindow.cs:

	Initialize nothing_pixbuf before connecting to the database signals.

2004-02-03  Jorn Baayen  <jbaayen@gnome.org>

	* NEWS:
	* configure.in:
	* src/About.cs:

	Released 0.3.2.
	
	* TODO:
	* src/PlaylistWindow.cs:
	* src/SongDatabase.cs:

	First stab at implementing proper file watching, but it is commented
	out for now because I ran into a mono bug. Details in TODO.

2004-02-03  Jorn Baayen  <jbaayen@gnome.org>

	* AUTHORS:
	* MAINTAINERS:
	* src/About.cs:
	* src/PlaylistWindow.cs:

	Fix assertions on empty playlist, change my email address.

2004-02-02  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/images/muine-default-cover.png:
	* src/CoverDatabase.cs:
	* src/NotificationAreaIcon.cs:
	* src/PlaylistWindow.cs:
	* src/StockIcons.cs:

	Use stock icon system whenever possible.

2004-02-02  Jorn Baayen  <jorn@nl.linux.org>

	* src/CoverDatabase.cs:
	* src/GnomeProxy.cs:
	* src/Makefile.am:

	Use Gnome proxy settings.

2004-02-02  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:

	Fix dup accel.

2004-02-02  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/PlaylistWindow.glade:
	* data/muine.schemas.in:
	* libmuine/pointer-list-model.c: (pointer_list_model_last):
	* libmuine/pointer-list-model.h:
	* libmuine/pointer-list-view.c: (pointer_list_view_last):
	* libmuine/pointer-list-view.h:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Add a repeat mode.

2004-02-02  Jorn Baayen  <jorn@nl.linux.org>

	* src/Song.cs:

	Nullify tmp_cover_image when not needed anymore.

2004-02-02  Goetz Waschk  <waschk@informatik.uni-rostock.de>

	* data/muine.schemas.in:

	An empty string list should be stored as []

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Fix assertions when having an empty playlist. Pointed out by Lee Willis.

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* src/SongDatabase.cs:

	Remove album cover pixbuf when not needed anymore.

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* configure.in:
	* src/About.cs:

	Release 0.3.1.1.

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* src/Album.cs:
	* src/CoverDatabase.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:
	* src/StringUtils.cs:

	A vain attempt to make b0rken filenames work, and fix the bug
	where sometimes the "downloading image" would disappear after 
	a restart.

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/images/Makefile.am:
	* data/images/muine-cover-downloading.png:
	* src/CoverDatabase.cs:
	* src/Makefile.am:
	* src/Song.cs:

	Add a "downloading" indicator when still searching for an albums
	cover image. Also handle a maximum of 2 pages of results.

2004-02-01  Jorn Baayen  <jorn@nl.linux.org>

	* src/CoverDatabase.cs:

	Hopefully improve cover image fetching reliability some more.
	
	* configure.in:

	Remove explicit dependency on mono 0.29, as the relevant mono bug
	seems to be fixed.

2004-01-31  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* configure.in:
	* muine.spec.in:
	* src/About.cs:

	Release 0.3.1.

2004-01-31  Jorn Baayen  <jorn@nl.linux.org>

	* src/Song.cs:

	Fix SearchKey calculation. Bug pointed out by Lee Willis.

2004-01-31  Lee Willis  <lee@leewillis.co.uk>
            Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* TODO:
	* src/DashboardFrontend.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:

	Add a dashboard frontend.

2004-01-31  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Small optimization.

2004-01-31  Jorn Baayen  <jorn@nl.linux.org>

	* src/Song.cs:

	Add {F,f}older.jpg to cover image detection code.

2004-01-30  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:
	* po/ChangeLog:
	* po/fr.po:

	Added a French translation by Vincent Carriere.
	
	* libmuine/pointer-list-model.c: (pointer_list_model_get_index_of):
	* libmuine/pointer-list-model.h:
	* libmuine/pointer-list-view.c: (pointer_list_view_get_index_of):
	* libmuine/pointer-list-view.h:
	* src/HandleView.cs:

	Add GetIndexOf.

2004-01-30  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* src/PlaylistWindow.cs:

	Select playing song when deiconifying window.

2004-01-30  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/pointer-list-view.c: (pointer_list_view_add_column),
	(pointer_list_view_select):
	* libmuine/pointer-list-view.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Expand text column in treeviews, select playing row when changing
	playing song except when changing due to an EOS event.

2004-01-29  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:

	Updated for upcoming 0.3.1 release.
	
	* src/PlaylistWindow.cs:

	De-iconify window when tray icon is clicked.

2004-01-29  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Remove awkward DefaultButton hack.

2004-01-29  Jorn Baayen  <jorn@nl.linux.org>

	* data/muine.schemas.in:

	Set playlist dir to ~/Music/Playlists instead of ~/Playlists
	
	* libmuine/metadata.c: (assign_metadata_mp3),
	(FLAC_metadata_callback):

	Replaygain for mp3s, (hopefully) fix FLAC song duration.

2004-01-29  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/db.c: (db_pack_double):

	Fix precision for db_pack_double.

2004-01-29  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/pointer-list-view.c: (pointer_list_view_select_next),
	(pointer_list_view_select_prev):
	* libmuine/pointer-list-view.h:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Don't unnecessarily change the selected row when a row is deleted.

2004-01-28  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Fix the bug where sometimes different songs than added would
	be played.

2004-01-28  Lee Willis  <lee@leewillis.co.uk>
            Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* src/CoverDatabase.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:

	Improve cover image fetching reliability.

2004-01-28  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* configure.in:
	* libmuine/Makefile.am:
	* libmuine/metadata.c: (assign_metadata_vorbiscomment),
	(assign_metadata_ogg), (FLAC_read_callback), (FLAC_write_callback),
	(FLAC_metadata_callback), (FLAC_error_callback),
	(assign_metadata_flac), (metadata_load):
	* libmuine/player.c: (create_decoder):
	* src/About.cs:

	Flac support, and bump version number to 0.3.0.99. Enjoy, edd ;)

2004-01-28  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/db.c: (db_get_version), (db_set_version), (db_foreach):

	Plug leaks.

2004-01-28  Jorn Baayen  <jorn@nl.linux.org>

	* src/Song.cs:

	Fix checked_cover_image being set to true when it should be false.

2004-01-28  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:
	* src/PlaylistWindow.cs:

	Revert making artist and title labels one. It broke ellipsizification..
	or whatever the right word for that is.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:
	* src/About.cs:

	Release 0.3.0, and depend on mono = 0.29 due to the bug in Mono CVS.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* configure.in:
	* src/About.cs:

	Release -pre2.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:
	* src/PlaylistWindow.cs:

	Make title_label and artist_label one, so that the text 
	can be easier selected. As suggested by synap.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* src/CoverDatabase.cs:
	* src/Muine.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:

	Use dirname:albumname as album key. As discussed with ziegler.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/SkipToWindow.glade:
	* src/SkipToWindow.cs:

	Give up on ButtonPressEvent on the seeking HScale. 
	
	* NEWS:

	Forgot some stuff.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* configure.in:
	* src/About.cs:

	0.3.0-pre1

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/Makefile.am:
	* data/muine.applications:
	* libmuine/Makefile.am:
	* libmuine/bacon-message-connection.c: (test_is_socket),
	(server_cb), (try_server), (try_client),
	(bacon_message_connection_new), (bacon_message_connection_free),
	(bacon_message_connection_set_callback),
	(bacon_message_connection_send),
	(bacon_message_connection_get_is_server):
	* libmuine/bacon-message-connection.h:
	* src/Makefile.am:
	* src/MessageConnection.cs:
	* src/Muine.cs:
	* src/PlaylistWindow.cs:

	Add command line handling and an applications file so that
	Nautilus knows about us.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/PlaylistWindow.glade:
	* src/CoverDatabase.cs:
	* src/PlaylistWindow.cs:

	Tried to implement DnD to the cover image, but ran into a Gtk#
	bug. Updated TODO with bug information.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/egg/Makefile.am:
	* libmuine/egg/eggstatusicon.c:
	* libmuine/egg/eggstatusicon.h:
	* src/NotificationAreaIcon.cs:

	Tray icon restores itself after having been destroyed.

2004-01-27  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* src/PlaylistWindow.cs:

	Add XF86XK_Audio* keybindings.

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* data/images/Makefile.am:
	* data/images/muine-tray-paused.png:
	* data/images/muine-tray-playing.png:
	* data/images/muine-tray.png:
	* src/Makefile.am:
	* src/NotificationAreaIcon.cs:
	* src/PlaylistWindow.cs:

	Show playing status in tray icon, inspired by a patch from
	Sergio Rubio <S0302298@newi.ac.uk>

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Nicer album tooltip.

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/db.c: (db_open), (db_get_version), (db_set_version),
	(db_foreach), (db_unpack_double), (db_pack_double):
	* libmuine/db.h:
	* libmuine/metadata.c: (assign_metadata_mp3),
	(assign_metadata_ogg), (metadata_free), (metadata_get_title),
	(metadata_get_performer), (metadata_get_performer_count),
	(metadata_get_album), (metadata_get_gain), (metadata_get_peak):
	* libmuine/metadata.h:
	* libmuine/player.c: (player_set_volume), (player_get_volume),
	(player_set_replaygain):
	* libmuine/player.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/Album.cs:
	* src/CoverDatabase.cs:
	* src/Metadata.cs:
	* src/Muine.cs:
	* src/Player.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:
	* src/StringUtils.cs:

	Add database versioning, replaygain support, performer tag support,
	and some misc bugfixes and cleanups.

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:
	* src/About.cs:
	* src/PlaylistWindow.cs:

	Put a link to amazon.com in the about box, instead of
	linking to amazon.com from the cover image widget.

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Don't watch foo/bar/ if foo/ is already being watched.

2004-01-26  Jorn Baayen  <jorn@nl.linux.org>

	* src/CoverDatabase.cs:

	Set KeepAlive to false when fetching cover images.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/SongDatabase.cs:

	Async fixes.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/CoverDatabase.cs:

	Close stream after creating a pixbuf from it.

2004-01-25  Lee Willis  <lee@leewillis.co.uk>

	* src/CoverDatabase.cs:

	Fix SanitizeString.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/Album.cs:

	Fix sorting.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/pointer-list-view.c: (pointer_list_view_changed):
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Better change handling.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Ensure we keep a selection when possible.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/Album.cs:
	* src/Song.cs:

	Fix album covers only showing up for the first song.
	
	* AUTHORS:
	
	Added Lee.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/db.c: (db_unpack_bool), (db_pack_bool):
	* libmuine/db.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/Album.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:

	Fully asynchronous cover image fetching.

	Again, the DB format has changed..

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/db.c: (db_store):
	* libmuine/pointer-list-view.c: (pointer_list_view_changed):
	* libmuine/pointer-list-view.h:
	* src/CoverDatabase.cs:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:

	File existance/change/removal checking on startup works. And async ;)

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Check that we have no watched folders instead of an empty lib.

2004-01-25  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/muine.schemas.in:
	* libmuine/metadata.c: (metadata_load), (metadata_get_mtime):
	* libmuine/metadata.h:
	* src/Action.cs:
	* src/ActionThread.cs:
	* src/CoverDatabase.cs:
	* src/Makefile.am:
	* src/Metadata.cs:
	* src/Muine.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:

	First stab at async stuff. This is not yet done.. will finish
	tomorrow.

	Again, the DB format changed.

2004-01-24  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:

	Added "es" and "nl" to ALL_LINGUAS.

2004-01-24  Lee Willis  <lee@leewillis.co.uk>
            Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/PlaylistWindow.glade:
	* src/AddSongWindow.cs:
	* src/AmazonSearchService.cs:
	* src/AmazonSearchService.wsdl:
	* src/CoverDatabase.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/Song.cs:

	Try to fetch album covers that cannot be found on disc from
	amazon.com. 

	FIXME this still needs to be made asynchronous..

	The format of the databases has changed, so before
	complaining it doesn't work:
	!!!! rm ~/.gnome2/muine/*.db !!!!

2004-01-24  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* configure.in:
	* src/About.cs:

	Release 0.2.1.

2004-01-24  Jorn Baayen  <jorn@nl.linux.org>

	* data/muine.schemas.in:
	* src/PlaylistWindow.cs:

	Merge save_playlist_as an open_playlist gconf keys.

2004-01-24  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/pointer-list-view.c: (scroll_to_path),
	(pointer_list_view_select_next), (pointer_list_view_select_prev):
	* libmuine/pointer-list-view.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:

	Scrolling improvements.

2004-01-23  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Better feedback when queueing songs.

2004-01-23  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Don't close the add window when queueing stuff.

2004-01-23  Jorn Baayen  <jorn@nl.linux.org>

	* src/Muine.cs:
	* src/PlaylistWindow.cs:

	Restore playlist on startup. (But only the songs that are
	left to be played)

2004-01-23  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Fix eos bug spotted by synap.

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* Makefile.am:
	* configure.in:
	* muine.spec.in:

	Added a spec file by Link Dupont <link@subpop.net>

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Make artist and title labels selectable.

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* AUTHORS:
	* NEWS:
	* README:
	* TODO:
	* configure.in:
	* data/glade/GroupsWindow.glade:
	* data/glade/Makefile.am:
	* src/About.cs:
	* src/Muine.cs:
	* src/PlaylistWindow.cs:

	Add preliminary GroupsWindow interface, and release 0.2.

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Add missing ProgressWindow.Done ()

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/ProgressWindow.glade:
	* src/ProgressWindow.cs:

	Progress window polish.

2004-01-22  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/SearchMusicWindow.glade:
	* data/muine.schemas.in:
	* src/FileSelector.cs:
	* src/PlaylistWindow.cs:
	* src/SearchMusicWindow.cs:

	The first time window will now check if ~/Music exists,
	and use that if it does. Otherwise it will search the homedir.

	Also set the deafult playlist filesel folders to ~/Playlists/

2004-01-22  Viet Yen Nguyen  <nguyen@cs.utwente.nl>
            Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/Makefile.am:
	* data/glade/SearchMusicWindow.glade:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/SearchMusicWindow.cs:
	* src/SongDatabase.cs:

	First time "Search music" window.

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/rb-cell-renderer-pixbuf.c:
	(rb_cell_renderer_pixbuf_render):

	Replace deprecated gdk_pixbuf_render_to_drawable_alpha

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:
	* src/PlaylistWindow.cs:

	Get rid of messy volume menu.

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* configure.in:
	* libmuine/Makefile.am:

	Better check for libid3tag.

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/SkipToWindow.glade:
	* src/Player.cs:
	* src/PlaylistWindow.cs:
	* src/SkipToWindow.cs:
	* src/StringUtils.cs:

	Nicer seeking window. 

	Based on a patch by Viet Yen Nguyen <nguyen@cs.utwente.nl>
	
	* libmuine/db.c: (db_foreach):

	Fix gcc 2.96 bug.

2004-01-21  Miloslav Trmac  <mitr@volny.cz>

	* configure.in: Added cs (Czech) to ALL_LINGUAS.

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/ErrorDialog.glade:
	* data/glade/Makefile.am:
	* data/glade/PlaylistWindow.glade:
	* data/glade/YesNoDialog.glade:
	* data/muine.schemas.in:
	* src/ErrorDialog.cs:
	* src/FileSelector.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/YesNoDialog.cs:

	Playlist open/save.

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/PlaylistWindow.glade:

	Menu rearrangement.

	Patch by Viet Yen Nguyen <nguyen@cs.utwente.nl>

2004-01-21  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:

	Change the button order of the add window to be HIG compliant.
	
	* src/PlaylistWindow.cs:

	Change the tooltip on the previous button.

	Patch by Viet Yen Nguyen <nguyen@cs.utwente.nl>

2004-01-20  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* TODO:
	* configure.in:
	* src/About.cs:

	Release 0.1.1.

2004-01-19  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:

	Slight look tweak.

2004-01-19  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/player.c: (player_tell):
	* src/PlaylistWindow.cs:

	More eos bugs.

2004-01-19  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/ProgressWindow.glade:

	Remove "FILENAME" tmp string. It was shown at times.
	
	* src/PlaylistWindow.cs:

	Fix a last_eos bug.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* NEWS:
	* README:
	* configure.in:
	* data/glade/PlaylistWindow.glade:
	* data/images/Makefile.am:
	* data/images/muine-add-album-16.png:
	* data/images/muine-add-album.png:
	* data/images/muine-albums.png:
	* data/images/muine-forward.png:
	* data/images/muine-next-16.png:
	* data/images/muine-pause-16.png:
	* data/images/muine-play-16.png:
	* data/images/muine-previous-16.png:
	* data/images/muine-queue.png:
	* data/images/muine-rewind.png:
	* src/About.cs:
	* src/AddAlbumWindow.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/StockIcons.cs:

	Aestethic fixes, release 0.1.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/Song.cs:

	Remove obsolete code.
	
	* src/SongDatabase.cs:

	Small memory optimization.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/metadata.c: (assign_metadata_mp3), (metadata_free):

	Plug leaks.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/metadata.c: (assign_metadata_mp3),
	(assign_metadata_ogg), (metadata_get_track_number):
	* libmuine/metadata.h:
	* src/Album.cs:
	* src/Metadata.cs:
	* src/Song.cs:

	Have songs sorted by tracknumber in their albums.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/Album.cs:

	Sort by artists, and then album name.
	
	* src/PlaylistWindow.cs:

	Scroll to playing song when restoring window visibility.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/PlaylistWindow.glade:
	* libmuine/Makefile.am:
	* libmuine/pointer-list-view.c: (scroll_to_path):
	* libmuine/rb-ellipsizing-label.c: (rb_strcmp), (rb_str_is_equal),
	(measure_string_width), (compute_character_widths),
	(start_element_handler), (end_element_handler),
	(append_ellipsized_text), (text_handler), (ellipsize_string),
	(rb_string_ellipsize_start), (rb_string_ellipsize_end),
	(rb_string_ellipsize_middle), (set_text_ellipsized),
	(rb_ellipsizing_label_get_type), (rb_ellipsizing_label_init),
	(rb_ellipsizing_label_finalize), (rb_ellipsizing_label_new),
	(rb_ellipsizing_label_set_text), (rb_ellipsizing_label_set_markup),
	(rb_ellipsizing_label_set_mode), (rb_ellipsizing_label_get_width),
	(real_size_request), (real_size_allocate), (real_expose_event),
	(rb_ellipsizing_label_class_init),
	(rb_ellipsizing_label_get_ellipsized),
	(rb_ellipsizing_label_get_full_text_size), (entry_changed_cb),
	(main):
	* libmuine/rb-ellipsizing-label.h:
	* src/EllipsizingLabel.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:

	Make artist and title labels ellipsizing labels. Fix removing
	songs from the playlist.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* libmuine/pointer-list-view.c: (pointer_list_view_scroll_to):
	* libmuine/pointer-list-view.h:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Scroll to playing cell when playing a newly added song or album.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:
	* src/ProgressWindow.cs:

	Import cleanups.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* configure.in:
	* libmuine/db.c: (db_unpack_pixbuf), (db_pack_pixbuf):
	* libmuine/db.h:
	* src/CoverDatabase.cs:
	* src/Makefile.am:
	* src/Muine.cs:
	* src/PixbufUtils.cs:
	* src/Song.cs:

	Implemenet cover database.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:
	* data/glade/ErrorDialog.glade:
	* data/glade/ProgressWindow.glade:
	* data/glade/SkipToWindow.glade:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Dialog fixes.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/PlaylistWindow.cs:

	Tray icon show/hide fixes.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:

	Handle albums with a lot of artists in a nicer way.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:

	Speed tweaks, select first row when opening row.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* libmuine/pointer-list-view.c: (pointer_list_view_get_length):
	* libmuine/pointer-list-view.h:
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:

	Show max. 200 songs in the Add Song window if we are searching for
	a string with less than 3 chars.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* src/Album.cs:

	Sort by artist, instead of album name.

2004-01-18  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* TODO:
	* data/glade/AddWindow.glade:
	* data/glade/PlaylistWindow.glade:
	* libmuine/pointer-list-view.c: (pointer_list_view_add_column):
	* src/AddAlbumWindow.cs:
	* src/AddSongWindow.cs:
	* src/Album.cs:
	* src/LibraryWindow.cs:
	* src/Makefile.am:
	* src/PlaylistWindow.cs:
	* src/Song.cs:

	Implement "Add album" window, fix window size saving.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:
	* libmuine/pointer-list-view.c: (scroll_to_path),
	(pointer_list_view_select_next), (pointer_list_view_select_prev):
	* src/AddSongWindow.cs:
	* src/PlaylistWindow.cs:

	Remove obsolete queue button, scroll when needed.

2004-01-18  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:
	* libmuine/pointer-list-view.c: (pointer_list_view_init),
	(pointer_foreach_func), (path_foreach_func),
	(pointer_list_view_get_selection),
	(pointer_list_view_set_keep_selection),
	(pointer_list_view_select_first), (pointer_list_view_select_next),
	(pointer_list_view_select_prev):
	* libmuine/pointer-list-view.h:
	* src/AddSongWindow.cs:
	* src/HandleView.cs:
	* src/PlaylistWindow.cs:

	Finish "Add song" window.

2004-01-17  Jorn Baayen  <jorn@nl.linux.org>

	* src/AddSongWindow.cs:
	* src/Album.cs:
	* src/PlaylistWindow.cs:
	* src/Song.cs:

	Optimizations.

2004-01-17  Jorn Baayen  <jorn@nl.linux.org>

	* data/glade/AddWindow.glade:
	* data/glade/ErrorDialog.glade:
	* data/glade/Makefile.am:
	* data/glade/PlaylistWindow.glade:
	* data/glade/ProgressWindow.glade:
	* data/glade/SkipToWindow.glade:
	* data/muine.schemas.in:
	* src/AddSongWindow.cs:
	* src/Album.cs:
	* src/ErrorDialog.cs:
	* src/KeyUtils.cs:
	* src/Makefile.am:
	* src/MarkupUtils.cs:
	* src/Muine.cs:
	* src/PlaylistWindow.cs:
	* src/ProgressWindow.cs:
	* src/SkipToWindow.cs:
	* src/Song.cs:
	* src/SongDatabase.cs:
	* src/StringUtils.cs:

	Add an "Import folder" command with a progress dialog, more library 
	work (almost fully functional), error dialogs, various fixes and
	polish.

2004-01-17  Jorn Baayen  <jorn@nl.linux.org>

	* Imported into CVS, this is very much WIP so don't expect anything
	to work. If you want to use it, use the latest release instead.
